# 小莫 OCR - iPhone 快速开始 📱

> 5 分钟上手指南 - 专为 iPhone 15 Pro Max 优化

## 🎯 最简单的方式：Web 版（推荐）

### 步骤 1：启动服务器（在 Mac 上）

```bash
# 打开终端，进入项目目录
cd xiaomo-ocr-ios/Server

# 安装基础依赖
pip3 install flask flask-cors

# 启动服务器（演示模式）
python3 server.py
```

看到以下输出表示成功：
```
✅ 服务器启动成功
🌐 访问: http://0.0.0.0:5000
📱 iPhone 访问: http://[你的Mac IP]:5000
```

### 步骤 2：查看 Mac 的 IP 地址

```bash
# 在终端运行
ifconfig | grep "inet " | grep -v 127.0.0.1
```

会看到类似输出：
```
inet 192.168.1.100 netmask 0xffffff00 broadcast 192.168.1.255
```

你的 IP 是：`192.168.1.100`

### 步骤 3：在 iPhone 上访问

1. **打开 Safari**
2. **输入网址**：`http://192.168.1.100:5000/webapp`
   （替换为你的 IP）
3. **开始使用！**

### 步骤 4：添加到主屏幕（可选）

1. 点击底部 **分享按钮** （向上箭头）
2. 滑动找到 **"添加到主屏幕"**
3. 点击 **"添加"**
4. 现在可以像原生 App 一样使用！

## ✨ 使用技巧

### 拍照识别

1. 点击 **"📷 拍照识别"**
2. 允许相机权限（首次）
3. 对准文字清晰拍摄
4. 等待识别完成
5. 点击 **"📋 复制文本"**

### 相册选择

1. 点击 **"🖼️ 相册选择"**
2. 允许照片权限（首次）
3. 选择包含文字的图片
4. 自动开始识别

### 模式选择

- **📝 通用**：识别所有文字（日常使用）
- **📄 文档**：转换为 Markdown（适合文档）
- **📊 图表**：解析图表内容（适合统计图）

### 精度选择

| 精度 | 速度 | 质量 | 推荐场景 |
|------|------|------|----------|
| 快速 | ⚡⚡⚡⚡ | ⭐⭐⭐ | 快速预览 |
| 均衡 | ⚡⚡⚡ | ⭐⭐⭐⭐ | 日常使用 |
| 高清 | ⚡⚡ | ⭐⭐⭐⭐⭐ | **推荐** |
| 极致 | ⚡ | ⭐⭐⭐⭐⭐ | 重要文档 |

## 🔧 进阶配置

### 启用真实 OCR 模型（需要完整依赖）

```bash
# 1. 安装完整依赖
cd xiaomo-ocr-ios/Server
pip3 install torch transformers pillow

# 2. 启动服务器（首次会下载 6.67GB 模型）
python3 server.py

# 3. 初始化模型
# 在 Safari 中访问: http://你的IP:5000/api/init
```

### 配置自动启动（Mac）

创建启动脚本 `~/start-xiaomo-ocr.sh`:

```bash
#!/bin/bash
cd /path/to/xiaomo-ocr-ios/Server
python3 server.py
```

设置权限：
```bash
chmod +x ~/start-xiaomo-ocr.sh
```

添加到登录项：
```
系统偏好设置 > 用户与群组 > 登录项 > 添加脚本
```

## 📱 原生 App 方式（可选）

如果你有 Xcode 和 Apple 开发者账号：

### 1. 打开项目

```bash
cd xiaomo-ocr-ios
open XiaomoOCR.xcodeproj
```

### 2. 配置签名

在 Xcode 中：
- 选择项目 > Signing & Capabilities
- 选择你的开发团队
- 修改 Bundle Identifier（如果冲突）

### 3. 连接 iPhone

- 用 USB-C 线连接 iPhone 15 Pro Max
- 信任电脑（首次）

### 4. 运行

- 点击 Xcode 顶部的 ▶️ 按钮
- 应用自动安装到手机

### 5. 配置服务器地址

首次打开应用：
- 点击右上角 ⚙️ 图标
- 输入服务器地址：`http://你的Mac IP:5000`
- 点击 "测试连接"

## 💡 常见问题

### Q: 无法连接到服务器？

**检查清单**：
- ✅ 服务器是否运行？（终端有输出）
- ✅ iPhone 和 Mac 在同一 WiFi？
- ✅ IP 地址是否正确？
- ✅ Mac 防火墙是否允许？

**解决方法**：
```bash
# 1. 测试服务器
在 Mac 的 Safari 打开: http://localhost:5000

# 2. 测试连接
在 iPhone 的 Safari 打开: http://你的IP:5000

# 3. 检查防火墙
系统偏好设置 > 安全性与隐私 > 防火墙 > 防火墙选项
允许 Python 接受传入连接
```

### Q: 识别速度很慢？

**优化方法**：
1. 降低精度设置（使用"快速"或"均衡"）
2. 确保 WiFi 信号良好
3. 关闭 Mac 上其他占用资源的程序

### Q: 识别结果不准确？

**改进方法**：
1. 提高精度设置（使用"高清"或"极致"）
2. 确保文字清晰、光线充足
3. 避免图片倾斜或模糊
4. 尝试不同的识别模式

### Q: 相机无法打开？

**解决方法**：
```
iPhone 设置 > Safari > 相机 > 允许
或
设置 > 隐私与安全 > 相机 > Safari > 允许
```

## 🎉 完成！

现在你已经可以在 iPhone 15 Pro Max 上使用小莫 OCR 了！

### 下一步

- 📖 查看 [完整文档](README.md) 了解更多功能
- 🔧 配置 [真实 OCR 模型](#启用真实-ocr-模型)
- 📱 尝试 [原生 App](#原生-app-方式可选)
- 🌟 给项目点个星星！

## 📞 需要帮助？

- 📚 查看 [详细文档](README.md)
- 🐛 提交 [Issue](https://github.com/your-repo/issues)
- 💬 加入社区讨论

---

享受使用！🚀
