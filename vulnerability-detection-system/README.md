# 自动化漏洞检测与响应系统

## 系统概述

这是一个企业级的自动化漏洞检测与响应系统，提供持续的安全监控、漏洞识别和自动化修复能力。

## 核心功能

### 1. 漏洞扫描模块
- 集成CVE、NVD等多源漏洞数据库
- 自动资产发现与指纹识别
- 配置弱点检测
- CVSS v3.1漏洞评分

### 2. 自动化检测引擎
- 计划任务扫描（每日/每周）
- 实时监控（文件完整性、日志异常）
- 签名库自动更新
- 自定义检测规则

### 3. 响应与修复
- 自动生成修复建议
- 一键补丁部署
- 漏洞验证（PoC测试）
- 风险缓解自动执行

### 4. 报告与通知
- 实时告警（邮件、Slack、Webhook）
- 可视化仪表板
- 合规报告生成
- 趋势分析

## 技术架构

### 微服务组件
- **Scanner Service**: 漏洞扫描服务
- **Detection Engine**: 检测引擎
- **Response Service**: 响应与修复服务
- **Notification Service**: 通知服务
- **API Gateway**: API网关

### 技术栈
- **容器化**: Docker, Kubernetes
- **数据库**: PostgreSQL (加密)
- **消息队列**: RabbitMQ
- **缓存**: Redis
- **API**: RESTful + GraphQL
- **监控**: Prometheus + Grafana
- **日志**: ELK Stack

## 快速开始

### 前置要求
- Docker 20.10+
- Docker Compose 2.0+
- Kubernetes 1.24+ (可选)
- kubectl (可选)

### 本地开发环境

```bash
# 克隆仓库
git clone <repository-url>
cd vulnerability-detection-system

# 配置环境变量
cp .env.example .env
# 编辑 .env 文件，设置必要的配置

# 启动所有服务
./scripts/deploy-local.sh

# 或使用 docker-compose
docker-compose up -d
```

### Kubernetes部署

```bash
# 创建命名空间
kubectl create namespace vuln-detection

# 部署服务
./scripts/deploy-k8s.sh

# 检查部署状态
kubectl get pods -n vuln-detection
```

## 目录结构

```
vulnerability-detection-system/
├── services/              # 微服务
│   ├── scanner/          # 漏洞扫描服务
│   ├── detection-engine/ # 检测引擎
│   ├── response/         # 响应服务
│   ├── notification/     # 通知服务
│   └── api-gateway/      # API网关
├── shared/               # 共享库
├── deployment/           # 部署配置
│   ├── docker/          # Docker配置
│   └── kubernetes/      # K8s配置
├── database/            # 数据库脚本
├── docs/                # 文档
└── scripts/             # 部署脚本
```

## 配置说明

### 环境变量

| 变量名 | 说明 | 默认值 |
|--------|------|--------|
| `DATABASE_URL` | PostgreSQL连接字符串 | - |
| `REDIS_URL` | Redis连接字符串 | `redis://localhost:6379` |
| `RABBITMQ_URL` | RabbitMQ连接字符串 | - |
| `SLACK_WEBHOOK` | Slack通知Webhook | - |
| `SMTP_HOST` | 邮件服务器地址 | - |
| `SCAN_SCHEDULE` | 扫描计划 | `0 2 * * *` |

### 安全配置

- 所有通信使用TLS加密
- 数据库启用加密
- 使用Vault管理敏感凭证
- 最小权限原则
- 完整审计日志

## API文档

API文档位于 `/docs/api-documentation.md`

访问Swagger UI: `http://localhost:8080/swagger`

## 操作手册

详细操作手册位于 `/docs/operations-manual.md`

## 监控与日志

- Prometheus指标: `http://localhost:9090`
- Grafana仪表板: `http://localhost:3000`
- Kibana日志: `http://localhost:5601`

## 许可证

MIT License

## 支持

如有问题，请提交Issue或联系技术支持团队。
